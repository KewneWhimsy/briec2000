---
// src/pages/events/2025-10-25-carnabal/index.astro
// Page de l'√©v√©nement CarnaBal optimis√©e avec Tailwind

import Layout from "../../../layouts/layout.astro";
import PdfViewer from "../../../components/pdf_viewer.astro";
import OptimizeImage from "../../../components/optimize_image.astro";
import EventNavigation from "../../../components/event_nav.astro";
import EventGallery from "../../../components/event_gallery.astro";
import Gallery from "../../../components/gallery.astro";
import Accordion from "../../../components/accordion.astro";
import { getCollection } from "astro:content";
import type { EventEntry } from "../../../../types";
import Ghost from "../../../components/ghost.astro";
import Bule from "../../../components/bule.astro";
import Loup from "../../../components/loup.astro";

// R√©cup√©rer tous les √©v√©nements
const eventsEntries = (await getCollection("events")) as EventEntry[];

// R√©cup√©rer l'√©v√©nement CarnaBal
const carnaBal = eventsEntries.find(
  (entry: EventEntry) => entry.slug === "2025-10-25-carnabal"
);

if (!carnaBal) {
  return Astro.redirect("/events/");
}

// Chemins des silhouettes avec m√©tadonn√©es
const silhouettes = [
  {
    src: "/src/assets/silhouettes/silhouette1.png",
    alt: "Silhouette monstrueuse 1",
    title: "Silhouette 1",
  },
  {
    src: "/src/assets/silhouettes/silhouette2.png",
    alt: "Silhouette monstrueuse 2",
    title: "Silhouette 2",
  },
  {
    src: "/src/assets/silhouettes/silhouette3.png",
    alt: "Silhouette monstrueuse 3",
    title: "Silhouette 3",
  },
];

// Param√®tres PDF
const pdfPath = "/pdf/carnabal-des-monstres.pdf";
const previewPages = [
  "/pdf/preview/carnabal-page1.jpg",
  "/pdf/preview/carnabal-page2.jpg",
  "/pdf/preview/carnabal-page3.jpg",
  "/pdf/preview/carnabal-page4.jpg",
  "/pdf/preview/carnabal-page5.jpg",
  "/pdf/preview/carnabal-page6.jpg",
  "/pdf/preview/carnabal-page7.jpg",
  "/pdf/preview/carnabal-page8.jpg",
  "/pdf/preview/carnabal-page9.jpg",
];
---

<Layout
  title="CarnaBal des monstres - 25 octobre 2025 - Briec2000"
  description="CarnaBal des monstres le 25 octobre 2025 √† Briec : parade festive √† 17h puis grande f√™te avec concerts √† l'Arth√©muse jusqu'√† 1h. √âv√©nement ouvert √† tous par Briec2000."
>
  <article class="max-w-4xl">
    <!-- Section d'introduction avec silhouettes -->
    <div
      class="relative overflow-hidden p-6 rounded-lg bg-[color:rgba(var(--color-primary-rgb),0.08)] min-h-96 flex items-center z-10 md:min-h-[500px]"
    >
      <!-- Silhouettes en arri√®re-plan -->
      <div
        class="absolute inset-0 w-full overflow-hidden z-0 pointer-events-none opacity-60"
      >
        <OptimizeImage
          src={silhouettes[0].src}
          alt={silhouettes[0].alt}
          class="absolute -right-32 -top-24 w-72 h-auto rotate-[5deg] md:-right-24 md:w-96"
          widths={[300, 400]}
          sizes="300px"
          loading="eager"
        />
        <OptimizeImage
          src={silhouettes[1].src}
          alt={silhouettes[1].alt}
          class="absolute right-12 -bottom-36 w-60 h-auto rotate-[6deg] md:right-24 md:w-80"
          widths={[250, 350]}
          sizes="250px"
          loading="lazy"
        />
        <OptimizeImage
          src={silhouettes[2].src}
          alt={silhouettes[2].alt}
          class="absolute right-48 top-12 w-48 h-auto scale-x-[-1] rotate-[-2deg] md:right-72 md:w-72"
          widths={[200, 300]}
          sizes="200px"
          loading="lazy"
        />
      </div>

      <!-- Contenu principal -->
      <div class="relative z-20 max-w-full sm:max-w-[80%]">
        <div
          class="inline-block bg-[color:var(--color-secondary)] text-white px-3 py-1 rounded-full text-sm font-medium mb-4"
        >
          Samedi 25 Octobre 2025
        </div>
        <h1
          class="text-3xl md:text-4xl leading-tight mb-4 text-[color:var(--color-primary)]"
        >
          CarnaBal des monstres
        </h1>
        <p class="text-lg mb-6 italic max-w-xl leading-relaxed">
          Toute une journ√©e de folie collective pour accueillir la saison froide ! Costum√©s et transform√©s, 
          de 15h √† 1h, on fait la f√™te ensemble sans distinction d'esp√®ce.
        </p>

        <!-- M√©tadonn√©es de l'√©v√©nement -->
        <div class="flex flex-col gap-2 mb-8">
          <div>
            <strong>üìç Briec de l'odet (29) :</strong> Centre social SIVOM + Place de Ruthin + Salle
            Arth√©muse
          </div>
        </div>

        <!-- Boutons d'action -->
        <div class="flex flex-wrap gap-4">
          <a
            href={pdfPath}
            download="CarnaBal_des_monstres_2025.pdf"
            class="btn inline-flex items-center gap-2"
          >
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"
              ></path>
            </svg>
            T√©l√©charger le flyer
          </a>
        </div>
      </div>
    </div>

    <!-- Image du CarnaBal -->
    <div class="my-10 text-center">
      <OptimizeImage
        src="/src/assets/events/carnabal.jpg"
        alt="CarnaBal des monstres et cr√©atures 2025"
        class="w-full max-w-2xl mx-auto rounded-lg shadow-lg"
        transition:name={`event-image-2025-10-25-carnabal`}
      />
    </div>

    <!-- Histoire et origine -->
    <section
      class="card bg-[color:rgba(var(--color-primary-rgb),0.03)] p-8 my-10 rounded-xl border-t-4 border-t-[color:var(--color-primary)] shadow-lg"
    >
      <h2 class="text-2xl mb-6 text-center border-b pb-2">
        L'esprit du CarnaBal
      </h2>

      <div class="space-y-4 leading-relaxed text-lg">
        <p>
          Inspir√© par les anciennes f√™tes et les carnavals sauvages, ce
          CarnaBal propose √† toutes celles et ceux qui le souhaitent de se
          bricoler un habit, de faire dispara√Ætre leurs formes humaines sous
          les tissus, les foug√®res, les objets r√©cup√©r√©s, et de retrouver leurs
          cong√©n√®res monstrueux¬∑se dans les rues du bourg, dans une joyeuse 
          procession jusqu'√† l'Arth√©muse, o√π se poursuivront les festivit√©s.
        </p>
      </div>
    </section>

    <!-- Accord√©ons des events -->
    <section id="events" class="my-10">
      <h1 class="text-2xl mb-6 border-b pb-2">+ d'infos ?</h1>

      <div class="space-y-4">

        <!-- Expo Odette Picaud -->
        <Accordion title="Expo - Odette Picaud" creature="bell" id="odette">
          <h3 class="text-sm opacity-75 mb-4">
            Expo - Odette Picaud
          </h3>

          <p class="leading-relaxed mb-3">
            Odette Picaud est une plasticienne chamanique qui travaille sur la m√©moire, 
            coud et rapi√®ce inlassablement des vieilles dentelles et des objets trouv√©s dans les greniers bretons 
            pour en faire un vaudou tr√®s personnel.
          </p>
          
          <p class="leading-relaxed mb-4">
            Tissus, mati√®res organiques, cornes et branchages sont cousus, attach√©s, ficel√©s, momifi√©s : Odette compose son monde, 
            o√π l'on trouve des poup√©es √† la fois punk et vaudou, des objets magiques, des capes de deuil pour fant√¥mes chinois, 
            des costumes pour un carnaval qui bat son plein dans son imaginaire.
          </p>

          <!-- Vid√©o YouTube -->
          <div class="aspect-video rounded-lg overflow-hidden">
            <iframe
              class="w-full h-full"
              src="https://www.youtube-nocookie.com/embed/D8xPIAmse1g"
              title="Odette Picaud - Glaneuse de m√©moires"
              allow="clipboard-write; encrypted-media;"
              allowfullscreen
              loading="lazy"
            >
            </iframe>
          </div>
        </Accordion>
        <!-- Adrien Choque & Alitch√© -->
        <Accordion
          title="Contes - Adrien & Alitch√©"
          creature="conte"
          id="contes"
        >
          <h3 class="text-sm opacity-75 mb-4">üìÖ 15h au Centre social SIVOM - Briec</h3>

          <p class="leading-relaxed mb-3">
            Adrien et Alitch√© ont √©chafaud√© un plan d'histoires de monstres √†
            vous porter √† vos oreilles.
          </p>
          <p class="leading-relaxed mb-4">
            Tout public et gratuit. Dans la salle forum du centre social du pays
            Glazik.
          </p>

          <!-- Image des conteurs -->
          <div
            class="bg-[color:rgba(var(--color-primary-rgb),0.05)] rounded-lg overflow-hidden flex items-center justify-center p-4"
          >
            <OptimizeImage
              src="/src/assets/contesnobg.png"
              alt="Illustration contes monstrueux"
              class="w-auto max-h-48 sm:w-full h-auto sm:max-h-full object-contain theme-filtered"
              widths={[300, 400]}
              sizes="300px"
              loading="lazy"
            />
          </div>
        </Accordion>
        <!-- Parade costum√©e -->
        <Accordion title="Parade costum√©e" creature="ghost" id="parade">
          <h3 class="text-sm opacity-75 mb-4">üìÖ 17h d√©part Place de Rutin - Briec</h3>
          <p class="leading-relaxed mb-4 text-pretty">
            Faites disparaitre vos formes humaines sous votre costume de
            monstre, et venez parader dans le bourg avec nous.
            <br /><br />On pr√©voit que le trajet soit festif, et rythm√©, mais on
            ne vous en dit pas plus pour l'instant !
          </p>

          <!-- Image de la parade -->
          <div
            class="flex items-center justify-center"
          >
            <OptimizeImage
              src="/src/assets/parade.png"
              alt="Illustration de la parade costum√©e des monstres"
              class="w-auto max-h-48 sm:w-full h-auto sm:max-h-full object-contain rounded-lg"
              widths={[400, 600, 800]}
              sizes="(max-width: 767px) 100vw, 600px"
              loading="lazy"
            />
          </div>
        </Accordion>
        <!-- Boum des m√¥mes -->
        <Accordion title="Boum des m√¥mes" creature="shy" id="boum">
          <p class="leading-relaxed mb-4 text-pretty">
            Parents, sortez du dancefloor, et restez sur le bord ! Avant qu'il
            ne soit trop tard, on r√©serve une boum aux plus jeunes.
            <br /><br />Une demie-heure de dancing pour laisser les enfants
            exprimer leurs folies rythmiques et leurs plus beaux moovs
            d'excitation d√©bordante.
            <br /><br />Attention : tout au long de la journ√©e, de la soir√©e, y
            compris durant cette boum, les enfants restent sous la
            responsabilit√© et l'≈ìil attentif de leur(s) accompagnateur¬∑ice(s).
          </p>

          <!-- Image de la boum -->
          <div
            class="flex items-center justify-center"
          >
            <OptimizeImage
              src="/src/assets/galleries/2025-07-18-spectacle-adieu-meringue/IMGC0477.jpg"
              alt="Ambiance festive lors d'un √©v√©nement Briec2000"
              class="w-auto max-h-48 sm:w-full h-auto sm:max-h-full object-contain rounded-lg"
              widths={[400, 600, 800]}
              sizes="(max-width: 767px) 100vw, 600px"
              loading="lazy"
            />
          </div>
        </Accordion>
        <!-- Iono Lutrev -->
        <Accordion title="Concert - Iono Lutrev" creature="bule" id="iono">
          <h3 class="text-sm opacity-75 mb-4">
            Power-duo √©lectro-rock M√âGALOSCHLAG¬Æ
          </h3>

          <p class="leading-relaxed mb-3">
            Solenne Garnier, soutenue par le groove de Capitaine Couette √† la
            batterie, joue √† la fois du synth√©tiseur et de la trompette.
          </p>
          <p class="leading-relaxed mb-4">
            Grande pr√™tresse du MEGALO-SCHLAG, c'est-√†-dire l'√©quilibre parfait
            entre virtuosit√© technique et rien-√†-foutrisme. Une √©lectro-pop
            garage qui groove !
          </p>

          <!-- Vid√©o YouTube -->
          <div class="aspect-video rounded-lg overflow-hidden">
            <iframe
              class="w-full h-full"
              src="https://www.youtube-nocookie.com/embed/t3PfHVWrtms"
              title="Iono Lutrev - Vid√©o de pr√©sentation"
              allow="clipboard-write; encrypted-media;"
              allowfullscreen
              loading="lazy"
            >
            </iframe>
          </div>
        </Accordion>

        <!-- Casiomaha -->
        <Accordion title="Concert - Casiomaha" creature="loup" id="casiomaha">
          <h3 class="text-sm opacity-75 mb-4">
            Duo pop-punk synth√©tique tribal
          </h3>

          <p class="leading-relaxed mb-3">
            Mahawatchi & Casiowatcha se connaissent depuis longtemps. Ils
            composent √† partir de vieux synth√©s cheap des ann√©es 80.
          </p>
          <p class="leading-relaxed mb-4">
            Sur sc√®ne, les musiciens arborent d'impressionnants masques de
            l'artiste-plasticienne <strong>Odette Picaud</strong>, apportant √†
            leur musique pop-punk synth√©tique, une ambiance tribale, envo√ªtante
            et √©nigmatique, pleine d'√©nergie positive et rebelle.
          </p>

          <!-- Vid√©o YouTube -->
          <div class="aspect-video rounded-lg overflow-hidden">
            <iframe
              class="w-full h-full"
              src="https://www.youtube-nocookie.com/embed/_e7BmAoSavg"
              title="Casiomaha - Vid√©o de pr√©sentation"
              allow="clipboard-write; encrypted-media;"
              allowfullscreen
              loading="lazy"
            >
            </iframe>
          </div>
        </Accordion>

        <!-- Kick & Fl√ªte -->
        <Accordion title="Concert - Kick & Fl√ªte" creature="glob" id="kick">
          <h3 class="text-sm opacity-75 mb-4">
            Duo √©lectro-techno & clarinette
          </h3>

          <p class="leading-relaxed mb-3">
            Kick & Fl√ªte proposent une formation entre machines √©lectroniques,
            clarinette et voix, qui m√©lange les musiques du monde et la techno.
            Dance floor music, √©lectro-techno du futur et clarinette
            virevoltante !
          </p>
          <p class="leading-relaxed mb-4">
            Un duo d'une musique brute et dansante, sensible, exigeante et
            hybride. Les genres musicaux s'y m√™lent sans distinctions d'esp√®ces
            : musiques populaires ou savantes, traditionnelles ou √©lectroniques,
            tout est permis.
          </p>

          <!-- Vid√©o YouTube -->
          <div class="aspect-video rounded-lg overflow-hidden">
            <iframe
              class="w-full h-full"
              src="https://www.youtube-nocookie.com/embed/hiphWgSHcoE"
              title="Kick & Fl√ªte - Vid√©o de pr√©sentation"
              allow="clipboard-write; encrypted-media;"
              allowfullscreen
              loading="lazy"
            >
            </iframe>
          </div>
        </Accordion>
      </div>
    </section>

    <!-- Composant PdfViewer -->
    <PdfViewer
      pdfPath={pdfPath}
      previewPages={previewPages}
      downloadFileName="CarnaBal_des_monstres_2025.pdf"
      title="Flyer du CarnaBal"
      description="Le flyer en version web, n'h√©sitez pas √† le t√©l√©charger et le partager !"
    />

    <!-- Ateliers pr√©paratoires -->
    <section id="ateliers" class="my-8">
      <!-- üé≠ D√©guisez-vous ! -->
      <div
        class="mb-6 p-4 bg-[color:rgba(var(--color-secondary-rgb,131,197,190),0.1)] rounded-lg border-l-4 border-l-[color:var(--color-secondary)]"
      >
        <p class="font-medium mb-2">üëπ Lib√©rez votre monstre int√©rieur !</p>
        <p class="text-sm text-balance">
          R√©cup, bidouillage, imagination : au CarnaBal, les placards se vident et les monstres naissent. 
          Costume fait-maison conseill√© pour rejoindre la meute festive !
        </p>
      </div>

      <div class="grid gap-4 md:grid-cols-2 mb-8">
        <div
          class="card p-6 bg-[color:rgba(var(--color-primary-rgb),0.03)] hover:bg-[color:rgba(var(--color-primary-rgb),0.05)] transition-colors"
        >
          <h2 class="text-lg mb-3 flex items-center gap-2">
            <svg
              class="w-5 h-5 text-[color:var(--color-primary)]"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <circle cx="6" cy="6" r="3"></circle>
              <path d="M8.12 8.12 12 12M20 4 8.12 15.88"></path>
              <circle cx="6" cy="18" r="3"></circle>
              <path d="M14.8 14.8 20 20"></path>
            </svg>
            Atelier costume avant soir√©e cr√™pe
          </h2>
          <p class="mb-3 font-medium">13 septembre au SIVOM</p>
          <p class="text-sm mb-4 opacity-80">
            Cr√©ation de costumes √† partir de 16h. Tout public.
          </p>
          <a href="/events/2025-09-13-monstres-et-bilig/" class="btn text-sm"
            >Voir les d√©tails</a
          >
        </div>
      </div>
    </section>

    
    <!-- Galerie -->
    <div class="mb-10">
      <h2 class="text-xl mb-4">Inspirations monstrueuses</h2>
      <EventGallery event={carnaBal} maxThumbnails={5} />
    </div>
    <!-- Navigation entre √©v√©nements -->
    <EventNavigation currentSlug={carnaBal.slug} />
  </article>

  <Ghost
    className="hidden md:block rotate-y-180"
    style="top: 15%; right: 12%;"
  />
  <Bule
    className="hidden md:block rotate-y-180"
    style="top: 300px; right: 280px;"
  />
  <Loup
    className="hidden md:block rotate-y-180"
    style="top: 335px; right: 173px;"
  />
</Layout>