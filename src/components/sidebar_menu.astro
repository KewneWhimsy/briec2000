---
// Ajoutez Astro.url pour accéder au chemin actuel
const currentPath = Astro.url.pathname;

// Définissez les liens de votre menu ici
const menuItems = [
  { title: 'Accueil', url: '/' },
  { title: 'À venir', url: '/events/' },
  { title: 'Les cantines', url: '/cantines/' },
  { title: 'Le carnabal', url: '/events/2025-10-31-carnabal/' },
  { title: 'L\'association', url: '/about/' },
  { title: 'Archives', url: '/archives/' },
];

// Fonction pour déterminer si un lien est actif
function isActive(itemUrl: string): boolean {
  if (itemUrl === '/') {
    return currentPath === '/';
  }
  return currentPath.endsWith(itemUrl);
}
---

<aside class="sidebar-menu">
  <nav class="py-8">
    <ul class="space-y-6">
      {menuItems.map((item) => (
        <li>
          <a href={item.url} 
            class={`sidebar-link text-lg hover:text-gray-500 transition-colors ${isActive(item.url) ? 'active' : ''}`}>
            {item.title}
          </a>
        </li>
      ))}
    </ul>
  </nav>
</aside>

<style>
  .sidebar-menu {
    min-width: 180px;
    border-right: 1px solid var(--color-border);
    padding-right: 1.5rem;
  }
  
  .sidebar-link {
    border-bottom: none;
    padding-bottom: 0;
    font-weight: 300;
    transition: color 0.2s ease;
  }
  
  .sidebar-link:hover {
    color: var(--color-primary) !important;
  }
  
  /* Effet visuel pour indiquer la page active */
  .sidebar-link.active {
    color: var(--color-primary) !important;
    font-weight: 500;
  }
</style>